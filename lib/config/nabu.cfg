#
# Target configuration file for z88dk
#

INCLUDE tools.inc

# Asm file which contains the startup code (without suffix)
CRT0		 DESTDIR/lib/target/nabu/classic/nabu_crt0

# Any default options you want - these are options to zcc which are fed
# through to compiler, assembler etc. as necessary.  Though -D doesn't go to
# the assembler, need to use -pragma-define: to have it go everywhere.
OPTIONS		 -O2 -SO2 -iquote. -Cc-standard-escape-chars -subtype=default -D__Z80__ -D__Z80

# Usual Nabu program start is at $140d since that's where one common version of
# the ROM loads it.  Other ROMs load it elsewhere!  Can't use a dollar sign to
# show hex, so use 5133 decimal.  Bare mode has a relocator to move from
# wherever it was loaded down to location zero.
SUBTYPE default  -startup=0 -Cz+newext -Cz-e -Cz.nabu -clib=default -pragma-define:CRT_ORG_CODE=5133 -pragma-define:__CPU_CLOCK=3579545  -pragma-define:__NABU__ -pragma-define:__NABUPC__
SUBTYPE bare  -startup=0 -Cz+newext -Cz-e -Cz.bare -clib=bare -pragma-define:CRT_ORG_CODE=0 -pragma-define:__CPU_CLOCK=3579545 -pragma-define:CRT_ENABLE_STDIO=0 -pragma-define:__NABU__ -pragma-define:__NABUPC__ -pragma-define:__NABU_BARE__

CLIB default  -lnabu_clib -lnabu_int -lndos -LDESTDIR/lib/clibs/z80
CLIB ansi  -pragma-need=ansiterminal -D__CONIO_VT100 -lnabu_clib -lnabu_int -lndos -LDESTDIR/lib/clibs/z80
CLIB bare  -LDESTDIR/lib/clibs/z80

INCLUDE alias.inc
